<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Demo: Metal Charts</title>

	<link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.css">
	<link rel="stylesheet" href="../node_modules/billboard.js/dist/billboard.css">

	<script src="../build/globals/metal-charts.js"></script>

	<style>
		body {
			margin: 20px 40px;
			background-color: #eee;
		}

		h2 {
			margin: 12px;
		}

		.metal-chart-example {
			background-color: #FFF;
			padding: 10px;
			margin: 20px;
		}
	</style>
</head>
<body>
	<h1>Metal Charts</h1>

	<p>See <a href="https://naver.github.io/billboard.js/demo/">billboard.js</a> for more examples.</p>

	<div class="metal-chart-example">
		<h2>Line</h2>
		<div id="line"></div>
	</div>

	<div class="metal-chart-example">
		<h2>Spline</h2>
		<div id="spline"></div>
	</div>

	<div class="metal-chart-example">
		<h2>Step</h2>
		<div id="step"></div>
	</div>

	<div class="metal-chart-example">
		<h2>Area</h2>
		<div id="area"></div>
	</div>

	<div class="metal-chart-example">
		<h2>Area-spline</h2>
		<div id="area-spline"></div>
	</div>

	<div class="metal-chart-example">
		<h2>Area-step</h2>
		<div id="area-step"></div>
	</div>

	<div class="metal-chart-example">
		<h2>Bar</h2>
		<div id="bar"></div>
	</div>

	<div class="metal-chart-example">
		<h2>Scatter</h2>
		<div id="scatter"></div>
	</div>

	<div class="metal-chart-example">
		<h2>Pie</h2>
		<div id="pie"></div>
	</div>

	<div class="metal-chart-example">
		<h2>Donut</h2>
		<div id="donut"></div>
	</div>

	<div class="metal-chart-example">
		<h2>Gauge</h2>
		<div id="gauge"></div>
	</div>

	<div id="controls" style="display: none;">
		<label>
			Change type:
			<select class="type">
				<option>line</option>
				<option>spline</option>
				<option>step</option>
				<option>area</option>
				<option>area-spline</option>
				<option>area-step</option>
				<option>bar</option>
				<option>scatter</option>
				<option>pie</option>
				<option>donut</option>
				<option>gauge</option>
			</select>
		</label>
		<label>
			Change data:
			<select class="data">
				<option>columns_1</option>
				<option>columns_2</option>
				<option>columns_3</option>
				<option>columns_4</option>
			</select>
		</label>
	</div>

	<script type="text/javascript">
		var dummyData = {
			columns_1: [
				['data1', 30, 200, 100, 400, 150, 250],
				['data2', 50, 20, 10, 40, 15, 25]
			],
			columns_2: [
				['data1', 230, 190, 300, 500, 300, 400],
				['data2', 50, 20, 10, 40, 15, 25]
			],
			columns_3: [
				['data1', 230, 190, 300, 500, 300, 400],
				['data2', 50, 20, 10, 40, 15, 25],
				['data3', 130, 150, 200, 300, 200, 100]
			],
			columns_4: [
				['data2', 50, 20, 10, 40, 15, 25],
				['data3', 130, 150, 200, 300, 200, 100]
			]
		};

		var dummyPercentData = {
			columns_1: [
				['data1', 37.5],
				['data2', 62.5]
			],
			columns_2: [
				['data1', 22.9],
				['data2', 77.1]
			],
			columns_3: [
				['data1', 84],
				['data2', 13],
				['data3', 3]
			],
			columns_4: [
				['data2', 50],
				['data3', 50]
			]
		};

		var dummyGaugeData = {
			columns_1: [
				['data1', 37.5]
			],
			columns_2: [
				['data1', 22.9]
			],
			columns_3: [
				['data1', 100]
			],
			columns_4: [
				['data2', 50]
			]
		};

		createChart('line');

		createChart('spline');

		createChart('step');

		createChart('area');

		createChart('area-spline');

		createChart('area-step');

		createChart('bar');

		createChart('scatter');

		createChart('pie', dummyPercentData);

		createChart('donut', dummyPercentData);

		createChart('gauge', dummyGaugeData);

		function createChart(type, data) {
			var element = document.getElementById(type);

			var chart = new metal.MetalChart({
				columns: data ? data.columns_1 : dummyData.columns_1,
				type: type
			}, element);

			var controlsTemplate = document.getElementById('controls');

			var chartControls = document.createElement('div');
			chartControls.innerHTML = controlsTemplate.innerHTML;

			var typeSelect = chartControls.querySelector('.type');

			typeSelect.value = type;

			typeSelect.addEventListener('change', function(event) {
				chart.type = typeSelect.value;
			});

			var dataSelect = chartControls.querySelector('.data');

			dataSelect.addEventListener('change', function(event) {
				chart.columns = data ? data[dataSelect.value] : dummyData[dataSelect.value];
			});

			element.parentNode.appendChild(chartControls);
		}
	</script>
</body>
</html>
